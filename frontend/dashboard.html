<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lucky Hub - Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
  <div class="main-layout d-flex" style="min-height:100vh;background:#43B02A;">
    <!-- Sidebar desktop -->
    <div class="sidebar bg-white border-end d-flex flex-column align-items-center py-4 d-none d-md-flex" style="min-width:220px;">
      <div class="sidebar-header mb-4 text-center">
        <span class="clover fs-2">üçÄ</span>
        <span class="luckyhub fs-5 fw-bold">LUCKY HUB</span>
      </div>
      <ul class="sidebar-menu nav flex-column w-100 mb-4" style="white-space:nowrap;">
        <li class="menu-item nav-item" id="btn-account">
          <a class="nav-link d-flex align-items-center gap-2" href="#" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
            <span style="font-size:1.2em;">üë§</span> T√†i kho·∫£n
          </a>
        </li>
        <li class="menu-item nav-item active" id="menu-dashboard">
          <a class="nav-link active d-flex align-items-center gap-2" href="#" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
            <span style="font-size:1.2em;">üè†</span> T·ªïng quan
          </a>
        </li>
        <li class="menu-item nav-item" id="menu-update">
          <a class="nav-link d-flex align-items-center gap-2" href="#" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
            <span style="font-size:1.2em;">‚ûï</span> C·∫≠p nh·∫≠t ch·ªâ s·ªë
          </a>
        </li>
        <li class="menu-item nav-item d-none" id="menu-admin">
          <a class="nav-link d-flex align-items-center gap-2" href="#" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
            <span style="font-size:1.2em;">üë•</span> Qu·∫£n l√Ω ng∆∞·ªùi d√πng
          </a>
        </li>
      </ul>
      <button id="btn-logout" class="sidebar-logout btn btn-outline-danger mt-auto w-100 d-flex align-items-center justify-content-center gap-2">
        <span style="font-size:1.2em;">üö™</span> ƒêƒÉng xu·∫•t
      </button>
    </div>
    <!-- Sidebar topbar for mobile -->
    <div class="sidebar-topbar d-md-none d-flex flex-row align-items-center justify-content-between px-2 py-2 bg-white shadow-sm w-100" style="position:sticky;top:0;z-index:1040;">
      <div class="d-flex align-items-center gap-3 w-100 justify-content-around">
        <div class="sidebar-icon-btn text-center" id="btn-account-mobile" style="cursor:pointer;">
          <div style="font-size:1.7rem;">üë§</div>
          <div style="font-size:0.85rem;">T√†i kho·∫£n</div>
        </div>
        <div class="sidebar-icon-btn text-center" id="menu-dashboard-mobile" style="cursor:pointer;">
          <div style="font-size:1.7rem;">üè†</div>
          <div style="font-size:0.85rem;">T·ªïng quan</div>
        </div>
        <div class="sidebar-icon-btn text-center" id="open-update-modal-mobile" style="cursor:pointer;">
          <div style="font-size:1.7rem;">‚ûï</div>
          <div style="font-size:0.85rem;">C·∫≠p nh·∫≠t</div>
        </div>
        <div class="sidebar-icon-btn text-center d-none" id="menu-admin-mobile" style="cursor:pointer;">
          <div style="font-size:1.7rem;">üë•</div>
          <div style="font-size:0.85rem;">QL ng∆∞·ªùi d√πng</div>
        </div>
        <div class="sidebar-icon-btn text-center" id="btn-logout-mobile" style="cursor:pointer;">
          <div style="font-size:1.7rem;">üö™</div>
          <div style="font-size:0.85rem;">ƒêƒÉng xu·∫•t</div>
        </div>
      </div>
    </div>
    <!-- End sidebar topbar for mobile -->
    <div class="main-content flex-grow-1 p-4">
      <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
        <div id="main-title" class="main-title mb-0">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi trang t·ªïng quan s·ª©c kh·ªèe!</div>
        <button id="open-update-modal" class="btn btn-primary">C·∫≠p nh·∫≠t ch·ªâ s·ªë</button>
      </div>
      <div id="main-content-area"></div>
      <!-- Modal c·∫≠p nh·∫≠t ch·ªâ s·ªë -->
      <div class="modal fade" id="updateMetricsModal" tabindex="-1" aria-labelledby="updateMetricsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="updateMetricsModalLabel">C·∫≠p nh·∫≠t ch·ªâ s·ªë s·ª©c kh·ªèe</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="imageInput" class="form-label w-100">
                  <div id="custom-image-label" class="border border-2 border-primary rounded-3 d-flex flex-column align-items-center justify-content-center py-4 mb-2 bg-light" style="cursor:pointer;transition:box-shadow .2s;">
                    <span class="icon-camera fs-1 mb-2">üì∑</span>
                    <span class="fw-semibold">Ch·ªçn ho·∫∑c k√©o th·∫£ ·∫£nh ch·ªâ s·ªë</span>
                    <span class="text-secondary small">(H·ªó tr·ª£ .jpg, .png, .jpeg)</span>
                  </div>
                </label>
                <input type="file" id="imageInput" accept="image/*" class="d-none" />
                <button id="btn-analyze" type="button" class="btn btn-primary btn-lg rounded-pill w-100 mb-2 d-flex align-items-center justify-content-center gap-2" style="font-size:1.15rem;"><span class="icon-ai fs-4">ü§ñ</span> Ph√¢n t√≠ch ch·ªâ s·ªë t·ª´ ·∫£nh</button>
                <div id="imagePreview" style="margin: 10px 0;"></div>
                <div id="analyzeResult"></div>
              </div>
              <form id="metricsForm" autocomplete="off">
                <div class="row g-2">
                  <div class="col-12 col-md-6">
                    <label for="ngayKiemTra" class="form-label">üìÖ Ng√†y ki·ªÉm tra</label>
                    <input name="ngayKiemTra" id="ngayKiemTra" type="date" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="canNang" class="form-label">‚öñÔ∏è C√¢n n·∫∑ng (kg)</label>
                    <input name="canNang" id="canNang" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="tiLeMoCoThe" class="form-label">üè∑Ô∏è T·ªâ l·ªá m·ª° (%)</label>
                    <input name="tiLeMoCoThe" id="tiLeMoCoThe" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="luongKhoangChat" class="form-label">ü¶¥ Kho√°ng ch·∫•t</label>
                    <input name="luongKhoangChat" id="luongKhoangChat" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="chiSoNuoc" class="form-label">üíß N∆∞·ªõc (%)</label>
                    <input name="chiSoNuoc" id="chiSoNuoc" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="luongCoBap" class="form-label">üí™ C∆° b·∫Øp (kg)</label>
                    <input name="luongCoBap" id="luongCoBap" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="chiSoCanDoi" class="form-label">üßç‚Äç‚ôÄÔ∏è C√¢n ƒë·ªëi</label>
                    <input name="chiSoCanDoi" id="chiSoCanDoi" type="number" step="0.1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="nangLuong" class="form-label">üî• NƒÉng l∆∞·ª£ng (kcal)</label>
                    <input name="nangLuong" id="nangLuong" type="number" step="1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="tuoiSinhHoc" class="form-label">‚è≥ Tu·ªïi sinh h·ªçc</label>
                    <input name="tuoiSinhHoc" id="tuoiSinhHoc" type="number" step="1" class="form-control" required />
                  </div>
                  <div class="col-12 col-md-6">
                    <label for="moNoiTang" class="form-label">üçî M·ª° n·ªôi t·∫°ng</label>
                    <input name="moNoiTang" id="moNoiTang" type="number" step="0.1" class="form-control" required />
                  </div>
                </div>
                <button type="submit" class="btn btn-success w-100 mt-3">L∆∞u ch·ªâ s·ªë</button>
                <div id="message" class="message text-center mt-2"></div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center mt-3 text-muted" style="font-size: 0.9rem;">
        ¬© Copyright 2025 Lucky Academy<br/>
        Li√™n h·ªá: <a href="mailto:buihuyhoan@gmail.com" class="text-decoration-none text-muted">buihuyhoan@gmail.com</a>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
  <script src="dashboard.js"></script>
</body>
</html> 